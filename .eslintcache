[{"/Users/scott/projects/wall/home-wall/src/index.js":"1","/Users/scott/projects/wall/home-wall/src/js/App.js":"2","/Users/scott/projects/wall/home-wall/src/js/api/HomeWallApi.js":"3","/Users/scott/projects/wall/home-wall/src/js/components/ProblemList.js":"4","/Users/scott/projects/wall/home-wall/src/js/components/ProblemEditor.js":"5","/Users/scott/projects/wall/home-wall/src/js/utils/RayCasting.js":"6","/Users/scott/projects/wall/home-wall/src/js/components/Board.js":"7","/Users/scott/projects/wall/home-wall/src/js/components/HomeWall.js":"8","/Users/scott/projects/wall/home-wall/src/js/components/BoardEditor.js":"9","/Users/scott/projects/wall/home-wall/src/js/utils/Holds.js":"10","/Users/scott/projects/wall/home-wall/src/js/components/Login.js":"11"},{"size":227,"mtime":1609781149423,"results":"12","hashOfConfig":"13"},{"size":185,"mtime":1609867716470,"results":"14","hashOfConfig":"13"},{"size":1485,"mtime":1611179126391,"results":"15","hashOfConfig":"13"},{"size":2481,"mtime":1611178337057,"results":"16","hashOfConfig":"13"},{"size":3839,"mtime":1610227968010,"results":"17","hashOfConfig":"13"},{"size":434,"mtime":1609879552833,"results":"18","hashOfConfig":"13"},{"size":2887,"mtime":1611008536554,"results":"19","hashOfConfig":"13"},{"size":6563,"mtime":1611178399149,"results":"20","hashOfConfig":"13"},{"size":2499,"mtime":1610231915681,"results":"21","hashOfConfig":"13"},{"size":515,"mtime":1610228022228,"results":"22","hashOfConfig":"13"},{"size":534,"mtime":1611177786976,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"1k2h3at",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"26"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/scott/projects/wall/home-wall/src/index.js",[],["48","49"],"/Users/scott/projects/wall/home-wall/src/js/App.js",[],"/Users/scott/projects/wall/home-wall/src/js/api/HomeWallApi.js",[],"/Users/scott/projects/wall/home-wall/src/js/components/ProblemList.js",[],"/Users/scott/projects/wall/home-wall/src/js/components/ProblemEditor.js",[],"/Users/scott/projects/wall/home-wall/src/js/utils/RayCasting.js",[],"/Users/scott/projects/wall/home-wall/src/js/components/Board.js",["50","51","52"],"import React from 'react';\n\nimport wall from '../../media/wall.jpg';\nimport { containsHolds } from '../utils/Holds';\n\nconst WIDTH = 600;\nconst PIXEL_RATIO =\n  window.matchMedia && window.matchMedia('screen and (max-width: 900px)').matches\n    ? window.devicePixelRatio * 2\n    : window.devicePixelRatio;\n\nconst SCALE = window.matchMedia\n  ? window.matchMedia('screen and (max-width: 600px)').matches\n    ? 2.1\n    : window.matchMedia('screen and (max-width: 900px)').matches\n    ? 1.5\n    : 1\n  : 1;\n\nconst pointAt = (corrodinate) => (corrodinate / SCALE) * PIXEL_RATIO;\n\nconst drawHolds = (holds, context) => {\n  holds.forEach((hold) => {\n    context.beginPath();\n\n    const { x: x0, y: y0 } = hold[0];\n\n    context.moveTo(pointAt(x0), pointAt(y0));\n\n    hold.forEach(({ x, y }) => context.lineTo(pointAt(x), pointAt(y)));\n    context.lineTo(pointAt(x0), pointAt(y0));\n\n    context.stroke();\n    context.closePath();\n  });\n};\n\nclass Board extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.canvasRef = React.createRef();\n\n    this.state = {\n      img: new Image(),\n    };\n  }\n\n  componentDidMount() {\n    const { img } = this.state;\n    const { holds } = this.props;\n\n    const ref = this.canvasRef.current;\n    const context = ref.getContext('2d');\n\n    img.src = wall;\n\n    this.setState({\n      img,\n    });\n\n    img.onload = () => {\n      const height = Math.floor(img.height / (img.width / WIDTH) / SCALE);\n      const width = Math.floor(WIDTH / SCALE);\n\n      ref.width = width * PIXEL_RATIO;\n      ref.height = height * PIXEL_RATIO;\n\n      ref.style.width = `${width}px`;\n      ref.style.height = `${height}px`;\n\n      context.drawImage(img, 0, 0, ref.width, ref.height);\n      context.lineWidth = 1 * PIXEL_RATIO;\n      context.strokeStyle = '#FFFFFF';\n\n      drawHolds(holds, context);\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    const { holds } = this.props;\n    const { holds: prevHolds } = prevProps;\n    const { img } = this.state;\n\n    if (prevHolds !== holds) {\n      const ref = this.canvasRef.current;\n      const context = ref.getContext('2d');\n\n      if (containsHolds(holds, prevHolds)) {\n        drawHolds(holds.slice(prevHolds.length), context);\n      } else {\n        context.clearRect(0, 0, ref.width, ref.height);\n        context.drawImage(img, 0, 0, ref.width, ref.height);\n        drawHolds(holds, context);\n      }\n    }\n  }\n\n  render() {\n    const { onClick } = this.props;\n\n    return (\n      <canvas\n        ref={this.canvasRef}\n        onMouseDown={({ clientX, clientY }) => {\n          if (onClick) {\n            const ref = this.canvasRef.current;\n            const canvas = ref.getBoundingClientRect();\n\n            const x = clientX - canvas.left;\n            const y = clientY - canvas.top;\n\n            onClick({ x: x * SCALE, y: y * SCALE });\n          }\n        }}\n      />\n    );\n  }\n}\n\nexport default Board;\n","/Users/scott/projects/wall/home-wall/src/js/components/HomeWall.js",[],"/Users/scott/projects/wall/home-wall/src/js/components/BoardEditor.js",[],"/Users/scott/projects/wall/home-wall/src/js/utils/Holds.js",[],"/Users/scott/projects/wall/home-wall/src/js/components/Login.js",[],{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","severity":1,"message":"58","line":24,"column":7,"nodeType":"59","messageId":"60","endLine":24,"endColumn":8},{"ruleId":"61","severity":1,"message":"62","line":59,"column":45,"nodeType":"63","messageId":"64","endLine":59,"endColumn":47},{"ruleId":"61","severity":1,"message":"62","line":64,"column":49,"nodeType":"63","messageId":"64","endLine":64,"endColumn":51},"no-native-reassign",["65"],"no-negated-in-lhs",["66"],"no-unused-vars","'s' is assigned a value but never used.","Identifier","unusedVar","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation"]